<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ClubsPoint Dashboard</title>

  <link rel="stylesheet" href="Club_DashBoard_feed.css">

  <style>
    /* ======== Reset & Base ======== */
    * {
      box-sizing: border-box;
      font-family: "Poppins", sans-serif;
    }
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      background: #f5f5f5;
      color: #333;
      overflow: hidden;
    }

    /* ======== Left Sidebar ======== */
    .left-bar {
      width: 20%;
      min-width: 150px; /* Added for better structure */
      background-color: #ffffff;
      padding: 1rem;
      border-right: 1px solid #ddd;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1rem;
    }

    .left-bar h2 {
      color: #c62828;
      font-weight: 700;
    }

    .profile-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.6rem;
    }

    .profile-section img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      border: 3px solid #c62828;
    }

    .clubs {
      width: 100%;
      background: #fafafa;
      border-radius: 8px;
      padding: 0.8rem;
    }

    .clubs span {
      font-weight: 600;
      display: block;
      margin-bottom: 0.5rem;
      color: #333;
      background-color: lightcoral;
      height: 20px;
      line-height: 20px; /* Center text vertically */
      padding: 0 5px;
    }

    .clubs ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .clubs li {
      padding: 0.5rem 0.8rem;
      border-radius: 5px;
      transition: background 0.2s;
      cursor: pointer;
    }

    .clubs li:hover {
      background: #ffebee;
    }

    /* ======== Content (Middle) ======== */
    .middle_body {
      width: 60%;
      padding: 1rem 2rem;
      display: flex;
      flex-direction: column;
      overflow-y: auto;
      border: 1px solid black;
    }

    .content {
      flex-grow: 1; /* Allows content to fill space */
    }

    .dashboard-switch {
      align-self: flex-end;
      background-color: #c62828;
      color: #fff;
      padding: 0.6rem 1.2rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.3s;
      margin-bottom: 1rem; /* Space below button */
    }

    .dashboard-switch:hover {
      background-color: #b71c1c;
    }

    .users-events,
    .public-events {
      margin-top: 1.2rem;
    }

    .users-events h3,
    .public-events h3 {
      color: #c62828;
      margin-bottom: 0.8rem;
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1rem;
    }

    .card {
      background: #fff;
      border-radius: 12px;
      padding: 1rem;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s, box-shadow 0.2s;
      cursor: pointer;
    }

    .card:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    .card h4 {
      margin: 0 0 0.5rem;
      color: #c62828;
    }

    .card p {
      margin: 0;
      color: #555;
      font-size: 0.9rem;
    }

    /* ======== Right Sidebar ======== */
    .right-bar {
      width: 20%;
      min-width: 150px; /* Added for better structure */
      background-color: #ffffff;
      border-left: 1px solid #ddd;
      padding: 1rem;
      display: flex;
      flex-direction: column;
      align-items: center; /* Center content horizontally */
      gap: 1rem;
      overflow-y: auto; /* Allow scrolling if content is tall */
    }

    .profile_icon {
      font-size: 2rem;
      padding: 0.5rem;
      background: #ffebee;
      border-radius: 50%;
      margin-left: 67%;
      width: 50px;
      height: 50px;
      display: flex; /* Used to center the emoji */
      align-items: center;
      justify-content: center;
      margin-bottom: 1rem; /* Space below icon */
    }

    .notification {
      width: 100%; /* Ensure notifications fill the width */
      flex-grow: 1;
      margin-top: 1rem;
    }

    .notification span {
      font-weight: bold;
      display: block;
      margin-bottom: 0.6rem;
      color: #c62828;
      text-align: center;
    }

    .notification .card {
      margin-bottom: 0.6rem;
      padding: 0.8rem;
      text-align: center;
      border-left: 5px solid #c62828;
      cursor: default; /* Not interactive like main cards */
    }

    footer {
      text-align: center;
      font-size: 0.8rem;
      color: #888;
      margin-top: 1rem;
    }

    /* ======== Scrollbar ======== */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-thumb {
      background: #c62828;
      border-radius: 10px;
    }
    
    /* -------------------------------------- */
    /* ======== Calendar Styling (Adjusted for No External CSS) ======== */
    /* -------------------------------------- */

    :root {
      --calendar-size: 150px; /* Retained default size */
      --expanded-width: 90vw;
      --expanded-height: 90vh;
      --primary-color: #c62828; /* Using the dashboard's red */
    }

    /* 1. Base Calendar Style (150x150px) */
    .calendar {
      height: var(--calendar-size);
      width: var(--calendar-size);
      background-color: var(--primary-color);
      border-radius: 1rem;
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3); /* Adjusted shadow */
      cursor: pointer;
      position: relative;
      z-index: 100;
      transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      color: white;
      padding: 1rem;
      margin-bottom: 1rem; /* Space below the calendar */
    }

    /* 2. Expanded State */
    .calendar.expanded {
      /* Positioned fixed/absolute relative to the viewport/body */
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      
      width: var(--expanded-width);
      max-width: 700px;
      height: var(--expanded-height);
      max-height: 600px;
      background-color: #ffffff;
      color: #333;
      cursor: default;
      padding: 1.5rem;
      display: grid;
      grid-template-rows: auto 1fr;
      gap: 1rem;
    }

    /* 3. Blurred Backdrop Overlay */
    .backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 50;
      opacity: 0;
      visibility: hidden;
      background-color: rgba(0, 0, 0, 0.2);
      transition: opacity 0.5s ease, visibility 0s 0.5s;
    }

    /* Activate backdrop when the calendar is expanded */
    .calendar.expanded ~ .backdrop {
      opacity: 1;
      visibility: visible;
      transition: opacity 0.5s ease;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }

    /* 4. Internal Content Styling */
    .calendar-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }

    .calendar-header button {
        background: none;
        border: none;
        padding: 0.5rem;
        border-radius: 50%;
        cursor: pointer;
        transition: background-color 0.2s;
        color: #333;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .calendar-header button:hover {
        background-color: #f0f0f0;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 0.4rem; /* Reduced gap for smaller space */
      text-align: center;
      font-size: 0.9rem;
      user-select: none;
    }

    .calendar-day, .calendar-date {
      padding: 0.4rem 0; /* Reduced padding */
      border-radius: 0.4rem;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 500;
      height: 30px; /* Fixed height for date cells */
    }

    .calendar-day {
      font-weight: 700;
      color: var(--primary-color);
      font-size: 0.75rem; /* Slightly smaller font */
    }

    .calendar-date {
      background-color: #eee;
      color: #444;
      transition: background-color 0.2s;
    }

    .calendar-date:hover {
      background-color: #e0e0e0;
    }

    .calendar-date.current-date {
      background-color: var(--primary-color);
      color: white;
      font-weight: bold;
      box-shadow: 0 2px 5px rgba(198, 40, 40, 0.5);
    }

    /* Hide/Show logic */
    .calendar-full-content {
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.3s, transform 0.3s;
      pointer-events: none;
      flex-grow: 1;
      display: none;
    }

    .calendar.expanded .calendar-full-content {
      opacity: 1;
      transform: translateY(0);
      pointer-events: all;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    /* Base 150x150 view (Shows only date/month/year) */
    .calendar-summary {
      text-align: center;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      transition: opacity 0.3s;
    }

    .calendar.expanded .calendar-summary {
      opacity: 0;
    }
    .calendar-summary h2 {
        font-size: 2.5rem; /* Adjusted for 150px size */
        line-height: 1;
        font-weight: 800;
        margin: 0;
    }
    .calendar-summary p {
      margin-top: 0.25rem;
      font-size: 0.9rem; /* Adjusted for 150px size */
      font-weight: 500;
    }

    /* Responsive adjustments */
    @media (max-width: 800px) {
        .left-bar, .right-bar {
            width: 25%;
        }
        .middle_body {
            width: 50%;
        }
    }

    @media (max-width: 600px) {
      /* Stack layout on small screens */
      body {
        flex-direction: column;
        overflow-y: auto;
      }
      .left-bar, .middle_body, .right-bar {
        width: 100%;
        border-right: none;
        border-left: none;
        padding: 1rem;
        min-width: auto;
      }
      .left-bar {
        order: 1;
      }
      .middle_body {
        order: 2;
      }
      .right-bar {
        order: 3;
      }
    }
  </style>
  
</head>
<body>

  <div class="left-bar">
    <h2>Profile</h2>
    <div class="profile-section">
      <img src="profile_icon.png" alt="User Profile Image">
      <h3>Rahul Jain</h3> </div>

    <div class="clubs">
      <span>_Your Clubs</span>
      <ul>
        <li>Soccer United</li>
        <li>World Musicians</li>
        <li>Global Tech Group</li>
      </ul>
    </div>
  </div>

  <div class="middle_body">
    <button class="dashboard-switch" onclick="redirectTo_Owned_Clubs_Dashboard()">Owned Clubs Dashboard</button>
    <div class="content">
      <div class="users-events">
        <h3>Your Club Events</h3>
        <div class="card-grid">
          <div class="card">
            <h4>Music Fest 2025</h4>
            <p>Organized by World Musicians</p>
          </div>
          <div class="card">
            <h4>Global Tech Meetup</h4>
            <p>Networking event for innovators</p>
          </div>
        </div>
      </div>

      <div class="public-events">
        <h3>Public Global Events</h3>
        <div class="card-grid">
          <div class="card">
            <h4>International Dance Night</h4>
            <p>Hosted by Global Dance Crew</p>
          </div>
          <div class="card">
            <h4>Startup Pitch Fest</h4>
            <p>Organized by Entrepreneurs United</p>
          </div>
          <div class="card">
            <h4>Climate Awareness Drive</h4>
            <p>Join clubs working on sustainability</p>
          </div>
        </div>
      </div>
      
      <!-- feeds -->
      <div class="club_feed-post">
        <div class="club_feed-header">
          <img class="club_feed-profile-img" src="/Code/profile_icon.png" alt="profile" />
          <span class="club_feed-username">Rahul Jain</span>
          <span class="club_feed-menu">&#x22EE;</span>
        </div>
        <img class="club_feed-image" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSAxt_0PJ8T-KXXZa6YvyLG9iwdnCjpy-VfAQ&s" alt="post" />
        <div class="club_feed-actions">
          <span class="club_feed-action-btn likeBtn">&#x2764;&#xFE0F;</span>
          <span class="club_feed-action-btn">&#x1F5E8;</span>
          <span class="club_feed-action-btn">&#x1F517;</span>
        </div>
        <div class="club_feed-likes">0 likes</div>
        <div class="club_feed-caption">
          <span class="club_feed-username">Rahul Jain<br></span>
          <span class="caption-text">
            Beautiful sunset view from my window üåá. Today was amazing, with bright colors everywhere as the
            light faded into dusk. Loved sharing this view with friends and family. Looking forward to seeing
            more moments like this soon and hope you all had a great day too! #sunset #clubfeed #naturelover
            #happyvibes
          </span>
          <span class="club_feed-more" style="display:none;">more...</span>
        </div>
      </div>
      <!-- repeat feed -->

      <div class="club_feed-post">
        <div class="club_feed-header">
          <img class="club_feed-profile-img" src="/Code/profile_icon.png" alt="profile" />
          <span class="club_feed-username">Rahul Jain</span>
          <span class="club_feed-menu">&#x22EE;</span>
        </div>
        <img class="club_feed-image" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ718nztPNJfCbDJjZG8fOkejBnBAeQw5eAUA&s" alt="post" />
        <div class="club_feed-actions">
          <span class="club_feed-action-btn likeBtn">&#x2764;&#xFE0F;</span>
          <span class="club_feed-action-btn">&#x1F5E8;</span>
          <span class="club_feed-action-btn">&#x1F517;</span>
        </div>
        <div class="club_feed-likes">0 likes</div>
        <div class="club_feed-caption">
          <span class="club_feed-username">Rahul Jain<br></span>
          <span class="caption-text">
            Beautiful sunset view from my window üåá. Today was amazing, with bright colors everywhere as the
            light faded into dusk. Loved sharing this view with friends and family. Looking forward to seeing
            more moments like this soon and hope you all had a great day too! #sunset #clubfeed #naturelover
            #happyvibes
          </span>
          <span class="club_feed-more" style="display:none;">more...</span>
        </div>
      </div>

    </div>

    <footer>¬© 2025 ClubsPoint | Connecting Clubs Across the World</footer>
  </div>

  <div class="right-bar">
    <div class="profile_icon">üôé</div>

    <div class="calendar" id="calendar">
      <div class="calendar-summary">
        <h2 id="summary-date">28</h2>
        <p id="summary-month-year">Nov 2025</p>
      </div>

      <div class="calendar-full-content">
        <div class="calendar-header">
          <button onclick="changeMonth(-1)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
          </button>
          <h3 id="current-month-year">November 2025</h3>
          <button onclick="changeMonth(1)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
          </button>
        </div>
        
        <div id="calendar-grid" class="calendar-grid">
          <div class="calendar-day">Sun</div>
          <div class="calendar-day">Mon</div>
          <div class="calendar-day">Tue</div>
          <div class="calendar-day">Wed</div>
          <div class="calendar-day">Thu</div>
          <div class="calendar-day">Fri</div>
          <div class="calendar-day">Sat</div>
          </div>
      </div>
    </div>

    <div class="backdrop" onclick="toggleCalendar(false)"></div>


    <div class="notification">
      <span>::Notifications::</span>
      <div class="card">üè∏ Badminton Tournament</div>
      <div class="card">üí∞ Fundraiser for Cancer Research</div>
      <div class="card">üíÉ Global Garba Event</div>
      <div class="card">event for new updates</div>
    </div>
  </div>

  <script>

    function redirectTo_Owned_Clubs_Dashboard(){
      window.location.href = "Owned_Club_Dashboard.html"
    }


    // The calendar logic is kept, ensuring real-time dates and functionality.

    const calendarEl = document.getElementById('calendar');
    const summaryDateEl = document.getElementById('summary-date');
    const summaryMonthYearEl = document.getElementById('summary-month-year');
    const currentMonthYearEl = document.getElementById('current-month-year');
    const calendarGridEl = document.getElementById('calendar-grid');

    let currentDate = new Date();
    const today = new Date();

    // Utility function to get the first day of the month and total days
    function getCalendarData(date) {
        const year = date.getFullYear();
        const month = date.getMonth();

        const firstDayOfMonth = new Date(year, month, 1).getDay(); // 0 for Sunday, 1 for Monday, etc.
        const daysInMonth = new Date(year, month + 1, 0).getDate();

        return { year, month, firstDayOfMonth, daysInMonth };
    }

    // Function to render the dates for the current month
    function renderCalendar() {
        const { year, month, firstDayOfMonth, daysInMonth } = getCalendarData(currentDate);

        // Update header and summary views
        const monthName = currentDate.toLocaleDateString('en-US', { month: 'long' });
        
        currentMonthYearEl.textContent = `${monthName} ${year}`;
        
        // Update summary view (always shows today's date)
        summaryDateEl.textContent = today.getDate();
        summaryMonthYearEl.textContent = `${today.toLocaleDateString('en-US', { month: 'short' })} ${today.getFullYear()}`;


        // Clear previous dates (but keep the day names, which are the first 7 children)
        while (calendarGridEl.children.length > 7) {
            calendarGridEl.removeChild(calendarGridEl.lastChild);
        }

        // 1. Add leading empty placeholders (for days before the 1st)
        for (let i = 0; i < firstDayOfMonth; i++) {
            const emptyCell = document.createElement('div');
            // Using CSS class defined in the style block
            emptyCell.className = 'calendar-empty-cell'; 
            calendarGridEl.appendChild(emptyCell);
        }

        // 2. Add actual dates
        for (let day = 1; day <= daysInMonth; day++) {
            const dateCell = document.createElement('div');
            dateCell.textContent = day;
            dateCell.className = 'calendar-date';
            
            // Check if this date is today
            if (year === today.getFullYear() && 
                month === today.getMonth() && 
                day === today.getDate()) {
                dateCell.classList.add('current-date');
            }

            calendarGridEl.appendChild(dateCell);
        }
    }

    // Function to change the displayed month
    window.changeMonth = function(delta) {
        currentDate.setMonth(currentDate.getMonth() + delta);
        renderCalendar();
    }

    // Function to toggle the expanded state
    window.toggleCalendar = function(open) {
        // Determine if we are expanding (true) or collapsing (false/toggle)
        const shouldExpand = (typeof open === 'boolean') ? open : !calendarEl.classList.contains('expanded');

        if (shouldExpand) {
            // Expand
            calendarEl.classList.add('expanded');
            // Re-render to ensure the expanded calendar view is up-to-date
            renderCalendar();
        } else {
            // Collapse
            calendarEl.classList.remove('expanded');
        }
    };

    // Initialize listeners
    document.addEventListener('DOMContentLoaded', () => {
        // Initial render
        renderCalendar();

        // Click listener on the calendar itself to expand
        calendarEl.addEventListener('click', (event) => {
            // Only expand if clicking the calendar itself, not internal buttons
            if (!calendarEl.classList.contains('expanded')) {
                toggleCalendar(true);
            }
        });
    });

  </script>

   <script src="Club_DashBoard_feed.js"></script>
</body>
</html>